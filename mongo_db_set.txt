curl -H 'Content-Type: application/x-ndjson' -XPOST 'localhost:9200/lawcase/_bulk?pretty' --data-binary @판결문_크롤링.json

db.lawcase.createIndex({"title": "text", "sub_title": "text", "sa": "text", "conLsJo.title":"text", "conLsJo.content":"text", "jun":"text"})

db.lawcase.find(
        {$text: {$search: "교통사고 음주운전 사망사고"}},
        {score:{$meta: "textScore"}},
        {highlights: { "$meta": "searchHighlights" }}
        )
.sort({score:{$meta:"textScore"}})
db.lawcase.find(
        {$text: {$search: "교통사고", {highlight: { "path": "title" }}}},
        {score:{$meta: "textScore"}},
        )
.sort({score:{$meta:"textScore"}})

db.lawcase.aggregate([
{
  $search: {
          "index":"title_text_sub_title_text_sa_text_conLsJo.title_text_conLsJo.content_text_jun_text",
    "search": { 
      "query": "교통사고",
      "path": "title"
    },
    "highlight": { "path": "title" }
  }
},
{
  $project: {
    "highlights": { "$meta": "searchHighlights" } }
}
])

db.lawcase.find(
        {$text: {$search: "교통사고 음주운전 사망사고"}},
        {score:{$meta: "textScore"}}
        )
.sort({score:{$meta:"textScore"}})

"highlight": { "path": "<field-to-search>" }

,"highlights": { "$meta": "searchHighlights" }
docker run -p 27017:27017 -it --rm mongo \
        -e MONGO_INITDB_ROOT_USERNAME=mongoadmin \
        -e MONGO_INITDB_ROOT_PASSWORD=secret \
        --authenticationDatabase admin \
        law_office

db.lawcase.aggregate([
  {
    $search: "교통사고 음주운전 사망사고"
  },
  {
    $project: {
      "description": 1,
      "_id": 0,
      "highlights": { "$meta": "searchHighlights" }
    }
  }
])

db.lawcase.aggregate([
  {
    $searchBeta: {
      "search": {
        "text":"교통사고"
      },
      "highlight": {
        "path": "*"
      }
    }
  },
  {
    $project: {
      "description": 1,
      "_id": 0,
      "highlights": { "$meta": "searchHighlights" }
    }
  }
])
db.lawcase.aggregate([
  {
    $search: {
      "text": {
        "path": "title",
        "query": ["교통사고 음주운전"]
      },
      "highlight": {
        "path": "*"
      }
    }
  },
  {
    $project: {
      "description": 1,
      "_id": 0,
      "highlights": { "$meta": "searchHighlights" }
    }
  }
])

{ _id: ObjectID("5fc67e515aa06d23fde8c892"),
  title: '도로교통법위반(음주운전)',
  sub_title: '[고등군사법원 2009. 2. 17., 선고, 2008노233, 판결]',
  jun: 
   [ { title: '피 고 인', content: '', sort: 0 },
     { title: '항 소 인', content: '피고인', sort: 1 },
     { title: '검 찰 관', content: '소령 박광열', sort: 2 },
     { title: '변 호 인', content: '군법무관 대위 이병일(국선)', sort: 3 },
     { title: '원심판결',
       content: '국방부 보통군사법원 2008. 9. 30. 선고 2008고13 판결',
       sort: 4 },
     { title: '변 론', content: '거침', sort: 5 },
     { title: '주 문',
       content: '원심판결을 파기한다. 피고인을 벌금 500,000(오십만)원에 처한다. 피고인이 위 벌금을 납입하지 아니하는 경우 금 50,000(오만)원을 1일로 환산한 기간 피고인을 노역장에 유치한다.',
       sort: 6 },
     { title: '이 유',
       content: '1. 항소이유의 요지 검찰관의 항소이유의 요지는, 최종 음주시로부터 구강내 잔류알코올 소거에 20분이 소요되기 때문에 교통단속처리지침에서는 20분이 경과한 경우 입을 헹굴 기회를 주지 않는데도 불구하고, 원심이 이를 간과하고 음주시로부터 3시간이상 경과한 이 사건에서 입을 헹굴 기회를 주지 않았다는 이유로 피고인에 대한 공소사실에 대해 무죄를 선고 한 것은 심리미진 또는 채증법칙 위배로 인한 사실오인으로 판결에 영향을 미친 위법이 있다는 것이다.2. 이 사건 공소사실의 요지와 원심의 판단 이 사건 공소사실의 요지는 “피고인은 2006. 4. 12. 22:16경 성남시 금토동 소재 ○○○교육단에서 서울 서초구 서초동 1324번지 서초교앞 도로에 이르기까지 약 10킬로미터의 구간에서 혈중 알코올농도 0.050퍼센트의 술에 취한 상태에서 (차량번호 생략) 옵티마 승용차를 운전하였다.”라는 것이다. 이에 대해 원심은 당시 호흡측정기에 의한 음주측정당시 물로 입을 헹구지 않고 음주측정을 한 사실, 피고인이 치아에 보철물을 하고 있어 치아와 보철물 사이에 알코올이 잔존하고 있었을 가능성이 있다는 점을 들어 이 사건 공소사실은 합리적 의심을 피할 수 있을 정도로 입증되었다고 할 수 없다고 하여 공소사실에 대하여 무죄 판결을 하였다.3. 당심 법원의 판단가. 대법원의 입장 피고인과 그 변호인이 무죄의 근거로 주장하는 대법원 판결의 요지는 “호흡측정기에 의한 혈중알코올 농도의 측정은 장에서 흡수되어 혈액 중에 용해되어 있는 알코올이 폐를 통과하면서 증발되어 호흡공기로 배출되는 것을 측정하는 것이므로, 최종 음주시로부터 상당한 시간이 경과하지 아니하였거나 또는 트림, 구토, 치아보철, 구강청정제 사용 등으로 인하여 입안에 남아 있는 알코올, 알코올 성분이 있는 구강내 타액, 상처부위의 혈액 등이 폐에서 배출된 호흡공기와 함께 측정될 경우에는 실재 혈중알코올의 농도보다 수치가 높게 나타나는 수가 있어, 피측정자가 물로 입안 헹구기를 하지 아니한 상태에서 한 호흡측정기에 의한 혈중알코올 농도의 측정결과만으로는 혈중알코올 농도가 반드시 그와 같다고 단정할 수 없거나 호흡측정기에 의한 측정수치가 혈중알코올 농도보다 높을 수 있다는 의심을 배제할 수 없다”고 판시하고 있다.( 대법원 2006. 11. 23. 선고 2005도7034 판결 참조) 위 대법원 판결의 취지는 물로 입안 헹구기를 하지 아니한 이상 무조건 호흡측정기에 의한 측정수치를 신뢰할 수 없다는 것이 아니라, “최종 음주시로부터 상당한 시간이 경과하였거나 또는 트림, 구토, 치아보철, 구강청정제 사용 등의 사실이 없는 것이 명백하다고 인정할 수 있는 경우에는 비록 물로 입안을 헹구지 않더라도 호흡측정기의 측정결과를 신뢰할 수 있다는 취지임이 판결내용상 명확하며, 또한 이와 같이 해석하는 것이 음주운전 측정방법으로 호흡측정기에 의한 측정방법을 채택한 도로교통법의 입법정책에도 부합한다고 할 것이다.”나. 원심의 사실오인 판단에 대하여1) 인정되는 사실 이 사건 제반 기록 및 당심에서의 피고인의 진술 등 에 비추어 살피건대, ① 피고인이 음주상태에서 운전한 거리는 성남시 금토동 소재 ○○○교육단에서 서울 서초구 서초동 1324번지 서초교 앞까지로, 인터넷 지도 검색사이트인 콩나물에서 조회한 바에 의하면 최단거리가 약13킬로미터, 최적거리가 16킬로미터이고, 위 도로를 교통상태가 원활한 상태에서 교통법규를 준수하여 운전할 경우 운전 시간은 약 25~30분 정도인 사실, ② 주취운전자 정황진술 보고서의 기재에 의하면, 당시 피고인의 혈색이 안면홍조를 띠고 있었던 점, 피고인이 명시적으로 채혈에 의한 음주측정을 거부하고 호흡측정기의 측정결과에 동의한다는 의사를 자필로 기재한 사실, ③ 의사 공소외인 작성의 소견서에 의하면, 피고인은 부분적으로 치아보철물을 하였거나 치료했던 사실, ④ 피고인이 음주측정 당시 물로 입을 헹굴 기회를 요구하지 않은 사실, ⑤ 피고인은 최종 음주 시간인 18시 30분으로부터 약 4시간이 경과한 22시 20분경에 음주측정을 받은 사실, ⑥ 도로교통안전관리공단 이사장 작성의 교정완료통보서의 기재에 의하면 당시 사용되었던 음주측정기에 대하여 2008. 3. 10.에 품질기준에 적합하도록 교정한 사실이 각 인정된다.2) 판단 의사 공소외인 작성의 소견서에 첨부된 X-레이 사진을 살피건대, 피고인이 하고 있었던 치아보철을 위한 교정물은 치열교정을 위한 고정식 철 구조물이 아닌, 치아를 대신하는 임플란트와 크라운 상태인바, 이는 일반적인 치아구조와 큰 차이가 있다고 볼 수 없고 이 점만으로는 구강내 알코올농도의 잔존가능성이 현저하게 높아졌다고 보기 어렵다. 또한, 김남현 교수의 “음주측정과정상 구강내 잔류알코올의 문제점과 대책에 관한 연구” 논문의 기재에 의하면, 알코올은 술을 마신지 15분 상당이 경과하면 혈중 농도로 변하고, 30~75분이 경과하면 흡수 최고치에 도달하게 되며, 술을 마신 후 2~3시간이 경과하면 모두 흡수되어 혈중에도 알코올이 남아있지 않게 된다. 그렇다면, 피고인이 맥주 2잔과 소주 1잔의 양을 마신 최종 음주 시간으로부터 약 4시간이 경과한 시점에는 구강내에는 물론 혈중에도 알코올이 잔존하지 않는다고 보는 것이 적절하며, 이 점은 당시 피고인이 임플란트를 하고 있었다고 하여 달라질 수 없다고 할 것이다. 한편, 피고인이 음주운전 적발당시 혈중 알코올농도가 0.050%이었으나, 피고인은 이미 그 전에 약 30여분간에 걸쳐 운전을 하고 온 점에 비추어 피고인이 음주상태에서 운전을 하였다는 호흡측정기의 측정결과는 충분히 신빙성이 있다고 볼 것이다. 반면에, 피고인은 음주운전 적발당시 호흡측정기에 의한 음주측정 수치에 대해 충분히 다툴 여지가 있었고, 입을 헹군 후 재측정 또는 채혈에 의한 재측정을 통하여 측정결과를 바로 잡을 수 있었음에도 불구하고 이를 다투지 않은 점에 비추어서도 원심 법정에 이르러서야 당시 측정결과에 불복하는 피고인 진술의 신빙성도 인정하기 어렵다.3) 소결 위에서 살핀바와 같이 피고인에 대한 음주 측정당시 최종 음주시로부터 4시간이나 지나 피고인의 입안은 물론 혈중에도 알코올이 잔존할 가능성이 전혀 없음에도 불구하고, 단지 물로 입안을 헹구지 않았다는 이유만으로 피고인의 입안에 남아있는 잔존알코올 성분에 의하여 실제 혈중 알코올 농도보다 측정결과 높게 나왔을 가능성이 있다고 판단하여 피고인에 대하여 무죄를 선고한 원심의 판단은 부당하고, 원심의 사실오인 및 채증법칙위배를 지적하는 검찰관의 항소는 이유 있다.4. 결론 따라서 군사법원법 제431조, 제414조 제11호에 의하여 원심판결을 파기하고 일건 기록에 의하여 본 군사법원이 자판하기에 충분하다고 인정되므로 같은 법 제435조에 의하여 변론을 거쳐 본 군사법원이 직접 판결한다.',
       sort: 7 },
     { title: '범죄사실',
       content: '피고인은 2006. 4. 12. 22:16경 성남시 금토동 소재 ○○○교육단에서 서울 서초구 서초동 1324번지 서초교앞 도로에 이르기까지 약 10킬로미터의 구간에서 혈중 알코올농도 0.050퍼센트의 술에 취한 상태에서 (차량번호 생략) 옵티마 승용차를 운전하였다.',
       sort: 8 },
     { title: '증거의 요지',
       content: '1. 피고인의 당심법정에서 한 판시사실에 부합하는 진술부분 1. 사법경찰리 작성의 주취운전자 적발보고서 중 이에 부합하는 진술기재 1. 사법경찰리 작성의 주취운전자 정황진술보고서 중 이에 부합하는 기재 1. 도로교통안전관리공단 이사장 작성의 교정완료통보서 중 이에 부합하는 기재 등을 종합하여 인정할 수 있으므로 그 증명이 있다.',
       sort: 9 },
     { title: '법령의 적용',
       content: '1. 범죄사실에 대한 해당법조도로교통법 제107조의 2 제1호, 제41조 제1항(음주운전의 점, 벌금형 선택) 2. 노역장 유치형법 제70조, 제69조 제2항 이상이 이유로 주문과 같이 판결한다.',
       sort: 10 } ],
  score: 0.75 }


  { _id: ObjectID("5fc69982698abb81b52d62c4"),
  title: '도로교통법위반(음주운전)',
  sub_title: '[대법원 2005. 12. 22., 선고, 2005도7293, 판결]',
  sa: 
   { title: '판시사항',
     content: '[1]  도로교통법 제2조 제1호에 정한 도로의 개념인 ‘일반교통에 사용되는 모든 곳’의 의미 [2] 가스충전소 내 가스주입구역 등은  도로교통법 제2조 제1호에서 정한 일반교통에 사용되는 도로라고 할 수 없다고 한 원심의 판단을 수긍한 사례',
     sort: 0 },
  conLsJo: 
   { title: '참조조문',
     content: '[1]  도로교통법 제2조 제1호 [2]  도로교통법 제2조 제1호',
     sort: 1 },
  jun: 
   [ { title: '피 고 인', content: '', sort: 0 },
     { title: '상 고 인', content: '검사', sort: 1 },
     { title: '원심판결',
       content: '대전지법 2005. 9. 8. 선고 2005노606 판결',
       sort: 2 },
     { title: '주 문', content: '상고를 기각한다.', sort: 3 },
     { title: '이 유',
       content: '상고이유를 판단한다.도로교통법 제2조 제1호에서 “도로”라 함은 도로법에 의한 도로, 유료도로법에 의한 도로 그 밖의 일반교통에 사용되는 모든 곳을 말한다고 규정하고 있는데, 여기서 “일반교통에 사용되는 모든 곳”이라 함은 현실적으로 불특정의 사람이나 차량의 통행을 위하여 공개된 장소로서 교통질서유지 등을 목적으로 하는 일반 교통경찰권이 미치는 공공성이 있는 곳을 의미하고, 특정인들 또는 그들과 관련된 특정한 용건이 있는 자들만이 사용할 수 있고 자주적으로 관리되는 장소는 이에 포함되지 않는다고 할 것이다 ( 대법원 2004. 6. 25. 선고 2002도6710 판결 등 참조).원심은 그 판시와 같은 사실관계에 터잡아, 이 사건 가스충전소 내 가스주입구역 등은 가스충전 등의 용무가 있는 특정인들 또는 그들과 관련된 특정한 용건이 있는 자들만이 사용할 수 있는 가스충전소 시설물의 일부로 그 운영자에 의하여 자주적으로 관리되는 곳이지, 불특정의 사람이나 차량의 통행을 위하여 공개된 장소로 일반 교통경찰권이 미치는 공공성이 있는 곳이라고는 볼 수 없다는 이유로, 이를 도로교통법 제2조 제1호 소정의 일반교통에 사용되는 도로라고 할 수 없다고 판단하였는바, 원심판결 이유를 위에서 본 법리 및 기록에 비추어 살펴보면 원심의 판단은 정당한 것으로 수긍이 가고, 거기에 상고이유에서 주장하는 바와 같은 도로교통법 제2조 제1호 소정의 일반교통에 사용되는 도로에 관한 법리오해 등의 위법이 있다고 할 수 없다.그러므로 상고를 기각하기로 관여 대법관의 의견이 일치되어 주문과 같이 판결한다.',
       sort: 4 } ],
  score: 0.75 }